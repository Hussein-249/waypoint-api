{% import "macros.html" as macros %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet"  type='text/css' href="/static/css/index.css">
    <link rel="stylesheet"  type='text/css' href="/static/css/shared.css">

    <!-- Latest Leaflet style and scripts -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>

    <!--  Chart.js CDN  -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Importing Tailwind from CDN-->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

    <script src="{{ url_for('static', filename='/Javascript/loadLeaflet.js') }}"></script>
    <script src="{{ url_for('static', filename='/Javascript/script.js') }}"></script>

    <title>Waypoint API</title>
</head>
<body class="font-mono bg-neutral-800 text-gray-100">
    {% block content %}
        {{ macros.header() }}
    {% endblock %}
    <div id="content">
        <div class="api-row">
            <div class="block bg-neutral-800 p-3 border-b-2 border-t-2 border-gray-500" id="api-wrapper">
                <div class="px-4" id="horizontal-api-div">
                    <form class="" action="/submit_form" method="POST">
                        <div class="text-lg text-center py-1 mx-3 mb-2">Route</div>

                      <label for="origin">Origin</label>
                         <br>
                      <input type="text" id="origin" name="origin" class="text-black text-sm px-2 mb-4 bg-gray-200 rounded">
                        <div id="add-waypoint-section"></div>
                      <label for="dest">Destination</label>
                         <br>
                      <input type="text" id="dest" name="dest" class="text-black text-sm px-2 mb-4 bg-gray-200 rounded">
                    </form>
                    <div class="row text-center mb-2" id="add-waypoints">
                        <button type="button" class="text-xs bg-gray-500 hover:bg-gray-400 text-white font-bold p-1 mr-1 border-b-4 border-gray-600 hover:border-gray-500 rounded" id="add-button"> + Waypt</button>
                        <button type="button" class="text-xs bg-gray-500 hover:bg-gray-400 text-white font-bold p-1 mx-1 border-b-4 border-gray-600 hover:border-gray-500 rounded" id="remove-button"> - Waypt</button>
                        <button type="submit" class="text-xs bg-green-600 hover:bg-green-500 text-white font-bold p-1 ml-1 border-b-4 border-green-700 hover:border-green-600 rounded" id="submit-button">Submit</button>
                    </div>
                    <div class="text-center" id="download">
                        <button type="button" class="text-xs bg-yellow-200 hover:bg-yellow-300 text-black font-bold py-2 px-3 m-1 border-b-4 border-yellow-500 hover:border-yellow-400 rounded" id="download-button">Download Route</button>
                    </div>

                </div>
            </div>
            <div class="block" id="map-wrapper">
                <div id="leaflet-map" class="leaflet-map border-2 border-gray-600"></div>
            </div>
            <div class="p-3 w-100 border-2 border-gray-600 bg-neutral-200" id="metar-info-graphic">
                <a href="https://metar-taf.com/CYOW" id="metartaf-AouzF9vk" style="font-size:16px; width:285px; height: 100%; display:block">METAR Ottawa/Macdonald-Cartier International Airport</a>
                <script async defer crossorigin="anonymous" src="https://metar-taf.com/embed-js/CYOW?target=AouzF9vk"></script>
            </div>
        </div>
        {% block data %}
            {{ macros.dataDisplay() }}
        {% endblock %}
    </div>
</body>
</html>